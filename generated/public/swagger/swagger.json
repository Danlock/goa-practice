{"swagger":"2.0","info":{"title":"Practice for goa","description":"Testing code and doc generation with goa","version":""},"host":"localhost:8080","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/asset":{"get":{"tags":["asset"],"summary":"showAll asset","description":"Get all assets","operationId":"asset#showAll","produces":["application/vnd.asset+json; type=collection"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AssetCollection"}}},"schemes":["http"]},"post":{"tags":["asset"],"summary":"create asset","description":"Create new assets","operationId":"asset#create","produces":["application/vnd.asset+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreateAssetPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Asset"}}},"schemes":["http"]}},"/asset/{assetID}":{"get":{"tags":["asset"],"summary":"show asset","description":"Get specific asset","operationId":"asset#show","produces":["application/vnd.asset+json"],"parameters":[{"name":"assetID","in":"path","description":"_id of an asset","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Asset"}}},"schemes":["http"]},"put":{"tags":["asset"],"summary":"update asset","description":"Update specific asset","operationId":"asset#update","produces":["text/plain"],"parameters":[{"name":"assetID","in":"path","description":"_id of an asset","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/UpdateAssetPayload"}}],"responses":{"200":{"description":"OK"},"404":{"description":"Not Found"}},"schemes":["http"]},"delete":{"tags":["asset"],"summary":"delete asset","description":"Delete specific asset","operationId":"asset#delete","produces":["text/plain"],"parameters":[{"name":"assetID","in":"path","description":"_id of an asset","required":true,"type":"string"}],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/asset/{assetID}/event/all":{"get":{"tags":["event"],"summary":"showAll event","description":"Get all events associated with an asset","operationId":"event#showAll","produces":["application/vnd.event+json; type=collection"],"parameters":[{"name":"assetID","in":"path","description":"_id of an asset","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/EventCollection"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/asset/{assetID}/event/publish":{"post":{"tags":["event"],"summary":"publish event","description":"Create new event and publish on the queue","operationId":"event#publish","produces":["application/vnd.event+json"],"parameters":[{"name":"assetID","in":"path","description":"_id of an asset","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PublishEventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Event"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/asset/{assetID}/event/subscribe":{"get":{"tags":["event"],"summary":"subscribe event","description":"Listen to all events for an asset","operationId":"event#subscribe","parameters":[{"name":"assetID","in":"path","description":"_id of an asset","required":true,"type":"string"}],"responses":{"101":{"description":"Switching Protocols"},"404":{"description":"Not Found"}},"schemes":["ws"]}},"/docs":{"get":{"tags":["documentation"],"summary":"show documentation","description":"ReDoc documentation generated from the swagger.json file","operationId":"documentation#show","produces":["text/html; charset=utf-8"],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/status":{"get":{"tags":["status"],"summary":"show status","description":"Get status of server and connections","operationId":"status#show","produces":["application/vnd.status+json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Status"}}},"schemes":["http"]}},"/swagger.json":{"get":{"summary":"Download generated/public/swagger/swagger.json","operationId":"swagger#/swagger.json","responses":{"200":{"description":"File downloaded","schema":{"type":"file"}}},"schemes":["http"]}}},"definitions":{"Asset":{"title":"Mediatype identifier: application/vnd.asset+json; view=default","type":"object","properties":{"_id":{"type":"string","description":"Object ID attribute","example":"Perspiciatis vel soluta fugit tenetur."},"createdAt":{"type":"string","description":"timestamp of when the asset was created","example":"2002-12-31T18:55:28Z","format":"date-time"},"data":{"description":"Type specific data","example":false},"name":{"type":"string","description":"Name of asset","example":"sm4hz","minLength":3},"type":{"type":"string","description":"Type of asset","example":"car","enum":["car"]},"updatedAt":{"type":"string","description":"timestamp of when the asset was updated","example":"2003-07-18T22:44:26Z","format":"date-time"}},"description":"An asset can be pretty much anything (default view)","example":{"_id":"Perspiciatis vel soluta fugit tenetur.","createdAt":"2002-12-31T18:55:28Z","data":false,"name":"sm4hz","type":"car","updatedAt":"2003-07-18T22:44:26Z"}},"AssetCollection":{"title":"Mediatype identifier: application/vnd.asset+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Asset"},"description":"AssetCollection is the media type for an array of Asset (default view)","example":[{"_id":"Perspiciatis vel soluta fugit tenetur.","createdAt":"2002-12-31T18:55:28Z","data":false,"name":"sm4hz","type":"car","updatedAt":"2003-07-18T22:44:26Z"},{"_id":"Perspiciatis vel soluta fugit tenetur.","createdAt":"2002-12-31T18:55:28Z","data":false,"name":"sm4hz","type":"car","updatedAt":"2003-07-18T22:44:26Z"}]},"CreateAssetPayload":{"title":"CreateAssetPayload","type":"object","properties":{"data":{"description":"Type specific data","example":"1973-05-06T00:56:27Z"},"name":{"type":"string","description":"Name of asset","example":"g66","minLength":3},"type":{"type":"string","description":"Type of asset","example":"car","enum":["car"]}},"example":{"data":"1973-05-06T00:56:27Z","name":"g66","type":"car"},"required":["name","type","data"]},"Event":{"title":"Mediatype identifier: application/vnd.event+json; view=default","type":"object","properties":{"_id":{"type":"string","description":"Object ID attribute","example":"Animi dolorem quidem vel optio."},"assetID":{"type":"string","description":"Associated asset id","example":"Porro optio illum."},"createdAt":{"type":"string","description":"timestamp of when the event was created","example":"1993-06-17T08:19:52Z","format":"date-time"},"data":{"description":"Type specific data","example":"1c2ed43a-abff-407c-9d65-10decb012f3a"},"type":{"type":"string","description":"Type of event","example":"Non sunt dicta excepturi nemo voluptas quas."}},"description":"An event for an asset (default view)","example":{"_id":"Animi dolorem quidem vel optio.","assetID":"Porro optio illum.","createdAt":"1993-06-17T08:19:52Z","data":"1c2ed43a-abff-407c-9d65-10decb012f3a","type":"Non sunt dicta excepturi nemo voluptas quas."}},"EventCollection":{"title":"Mediatype identifier: application/vnd.event+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Event"},"description":"EventCollection is the media type for an array of Event (default view)","example":[{"_id":"Animi dolorem quidem vel optio.","assetID":"Porro optio illum.","createdAt":"1993-06-17T08:19:52Z","data":"1c2ed43a-abff-407c-9d65-10decb012f3a","type":"Non sunt dicta excepturi nemo voluptas quas."},{"_id":"Animi dolorem quidem vel optio.","assetID":"Porro optio illum.","createdAt":"1993-06-17T08:19:52Z","data":"1c2ed43a-abff-407c-9d65-10decb012f3a","type":"Non sunt dicta excepturi nemo voluptas quas."}]},"PublishEventPayload":{"title":"PublishEventPayload","type":"object","properties":{"data":{"description":"Type specific data","example":"2002-11-03T16:31:12Z"},"type":{"type":"string","description":"Type of event","example":"Autem omnis esse quibusdam corrupti sunt."}},"example":{"data":"2002-11-03T16:31:12Z","type":"Autem omnis esse quibusdam corrupti sunt."},"required":["type","data"]},"Status":{"title":"Mediatype identifier: application/vnd.status+json; view=default","type":"object","properties":{"database":{"type":"boolean","description":"Is database connected and working?","example":false}},"description":"Status  of API and connections to remote services (default view)","example":{"database":false},"required":["database"]},"UpdateAssetPayload":{"title":"UpdateAssetPayload","type":"object","properties":{"data":{"description":"Type specific data","example":"1970-02-19T17:08:36Z"},"name":{"type":"string","description":"Name of asset","example":"2bj","minLength":3},"type":{"type":"string","description":"Type of asset","example":"car","enum":["car"]}},"example":{"data":"1970-02-19T17:08:36Z","name":"2bj","type":"car"}}},"responses":{"NotFound":{"description":"Not Found"},"OK":{"description":"OK"},"SwitchingProtocols":{"description":"Switching Protocols"}}}